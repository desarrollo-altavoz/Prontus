/**
FontSize.class.js
Descripcion:
    Cambia el tamaño de la fuenta para los estilos que coincidan con cierto patrones
    como titular, bajada, cuerpo, etc. Véase la sección de configuración más abajo
    para cambiar dichos parámetros.
    OJO: Cambia el estilo de la primera hoja de estilos definida en la página
    Próximamente podría quedar obsoleto, por lo que la documentación es básica

Dependencias:
    Ninguna

Versión:
    ----------------------------------------------------------------------------
    2.0.0 - 11/11/2009 - CVI - Primera Versión coa Orientación a Objetos
                Basada en la version 1.10 de cambia_tam_fonts.js
**/

var FontSize={size_actual:100,tamanos:[70,80,90,100,130,180,250],estilos:['titular','bajada','epigrafe','cuerpo'],size_actual_i:3,msgError:'Este Navegador no soporta aumento/disminución de tamaño de texto.',indice_hoja_estilos:0,fontWeight_default:'',fontFamily_default:'',fontSize_default:'',color_default:'',fontweight:[],fontfamily:[],fontsize:[],fontcolor:[],initiated:false,firstsheet:null,therules:null,var_elements:[],init:function(){if(!document.styleSheets){return false;}
FontSize.firstsheet=document.styleSheets[FontSize.indice_hoja_estilos];if(FontSize.firstsheet.cssRules){FontSize.therules=FontSize.firstsheet.cssRules;}else{FontSize.therules=FontSize.firstsheet.rules;}
var theruleslen=FontSize.therules.length;for(var j=0;j<theruleslen;j++){FontSize.fontweight[j]=FontSize.therules[j].style.fontWeight;FontSize.fontfamily[j]=FontSize.therules[j].style.fontFamily;FontSize.fontsize[j]=FontSize.therules[j].style.fontSize;FontSize.fontcolor[j]=FontSize.therules[j].style.color;}
for(var i=0;i<theruleslen;i++){var aux=FontSize.therules[i].selectorText;var found=0;if(aux=='*'){FontSize.fontWeight_default=FontSize.therules[i].style.fontWeight;FontSize.fontFamily_default=FontSize.therules[i].style.fontFamily;FontSize.fontSize_default=FontSize.therules[i].style.fontSize;FontSize.color_default=FontSize.therules[i].style.color;}
for(var k=0;k<FontSize.estilos.length;k++){if((aux.indexOf(FontSize.estilos[k])>=0)&&(aux.indexOf(':hover')<0)){found=1;}}
if(found==1){FontSize.var_elements[FontSize.var_elements.length]=i;}}
return true;},cambiaSize:function(signo){if(!document.styleSheets){alert(FontSize.msgError);return;}
if(!FontSize.initited){var resp=FontSize.init();if(!resp){alert(FontSize.msgError);return;}
FontSize.initited=true;}
if(signo=='mas'){if(FontSize.size_actual_i>=(FontSize.tamanos.length-1)){return;}
FontSize.size_actual_i++;}else{if(FontSize.size_actual_i<=0){return;}
FontSize.size_actual_i--;}
FontSize.size_actual=FontSize.tamanos[FontSize.size_actual_i];var varelemlen=FontSize.var_elements.length;for(var i=0;i<varelemlen;i++){var j=FontSize.var_elements[i];if(FontSize.fontsize[j]==''){if(FontSize.fontSize_default!=''){FontSize.fontsize[j]=FontSize.fontSize_default;}else{FontSize.fontsize[j]=12;}}
var tam_final=parseInt((parseInt(FontSize.fontsize[j],10)*FontSize.size_actual)/100,10);if(tam_final-parseInt(tam_final,10)>0){tam_final=parseInt(tam_final,10)+1;}
FontSize.therules[j].style.fontSize=tam_final+'px';}}};

/**  Configuraciones **/
// FontSize.size_actual = 100; // Tamaño actual En porcentaje
// FontSize.tamanos = [70,80,90,100,130,180,250], // Arreglo con los tamaños a los que se podrá cambiar
// FontSize.estilos = ['titular','bajada','epigrafe','cuerpo'],// patrones que se buscarán para cambiar el estilo
// FontSize.size_actual_i = 3, // indice del arrglo de tamanos (3 = 4to elemento)
// FontSize.msgError = 'Este Navegador no soporta aumento/disminución de tamaño de texto.',
// FontSize.indice_hoja_estilos =  0, // En el caso de que se quiera procesar otro CSS y no el primero